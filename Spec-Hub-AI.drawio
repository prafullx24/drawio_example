<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:136.0) Gecko/20100101 Firefox/136.0" version="27.1.5">
  <diagram name="Page-1" id="6BmJr5rbr6GqPgEecNDf">
    <mxGraphModel dx="2723" dy="1034" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-1" value="" style="rounded=1;whiteSpace=wrap;html=1;arcSize=3;" vertex="1" parent="1">
          <mxGeometry x="-830" y="-290" width="460" height="340" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-2" value="&lt;div&gt;&lt;b&gt;AI Service&lt;/b&gt;&lt;/div&gt;&lt;div&gt;OpenAI Agents SDK&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-700" y="-280" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-4" value="Vector Database" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="-660" y="100" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-6" value="&lt;div&gt;&lt;b&gt;Socials&lt;/b&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Posts&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Comments&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Recognition&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Announcements&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Vectors&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=3;" vertex="1" parent="1">
          <mxGeometry x="-890" y="220" width="160" height="110" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-7" value="&lt;div&gt;Structure:&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;1. Filters&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;2. Context&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;3. Vector Data&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=3;" vertex="1" parent="1">
          <mxGeometry x="-560" y="100" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-8" value="&lt;div&gt;&lt;b&gt;Documents&lt;/b&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Knowledge base&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Policies&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Vectors&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=3;" vertex="1" parent="1">
          <mxGeometry x="-710" y="220" width="160" height="110" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-9" value="&lt;div&gt;&lt;b&gt;Sources&lt;/b&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Websites&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Drives&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Sharepoints&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Vectors&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=3;" vertex="1" parent="1">
          <mxGeometry x="-530" y="220" width="160" height="110" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-10" value="" style="rounded=1;whiteSpace=wrap;html=1;arcSize=3;" vertex="1" parent="1">
          <mxGeometry x="-1530" y="-290" width="400" height="340" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-11" value="&lt;div&gt;&lt;b&gt;Spring App&lt;/b&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-1390" y="-290" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-13" value="IngestAgent" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-810" y="-220" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-14" value="&lt;div style=&quot;line-height: 100%;&quot;&gt;&lt;div align=&quot;left&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 8px; line-height: 100%;&quot;&gt;Ingest Agent:&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 8px; line-height: 100%;&quot;&gt;The &lt;span data-end=&quot;216&quot; data-start=&quot;200&quot;&gt;Ingest Agent&lt;/span&gt; is a specialized backend agent responsible for preparing and storing all new user-generated content (such as posts, comments, or documents) into the semantic search and classification pipeline. It acts as the central ingestion point.&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="-210" y="-280" width="250" height="75" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-15" value="Main Database" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="-1360" y="100" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-17" value="&lt;div&gt;Socials&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Posts&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Comments&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Recognition&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Announcements&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=3;" vertex="1" parent="1">
          <mxGeometry x="-1590" y="220" width="160" height="110" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-18" value="&lt;div&gt;Documents&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Knowledge base&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Policies&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=3;" vertex="1" parent="1">
          <mxGeometry x="-1410" y="220" width="160" height="110" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-19" value="&lt;div&gt;Sources&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Websites&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Drives&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Sharepoints&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=3;" vertex="1" parent="1">
          <mxGeometry x="-1230" y="220" width="160" height="110" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-20" value="&lt;div&gt;&lt;b&gt;Queries&lt;/b&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Query&lt;/div&gt;Input Outputs&lt;div align=&quot;left&quot;&gt;Vectors&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=3;" vertex="1" parent="1">
          <mxGeometry x="-890" y="360" width="160" height="110" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-21" value="&lt;div&gt;&lt;b&gt;Summaries&lt;/b&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Content Ref&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Content Summary&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Filtering Metadata&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Vectors&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=3;" vertex="1" parent="1">
          <mxGeometry x="-710" y="360" width="160" height="110" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-22" value="&lt;div align=&quot;center&quot;&gt;&lt;b&gt;Tool Logs&lt;/b&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Query Ref&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Tool Calls&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Input Outputs&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Data Involved&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=3;align=center;" vertex="1" parent="1">
          <mxGeometry x="-530" y="360" width="160" height="110" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-23" value="&lt;div&gt;&lt;b&gt;Chat Feedback&lt;/b&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Query Ref&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Data Involved&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Feedback Bool&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=3;" vertex="1" parent="1">
          <mxGeometry x="-890" y="490" width="160" height="110" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-24" value="&lt;div align=&quot;center&quot;&gt;&lt;b&gt;Agent Logs&lt;/b&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Query Ref&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Tool Calls&lt;/div&gt;&lt;div&gt;Input Outputs&lt;/div&gt;&lt;div&gt;Data Involved&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=3;align=center;" vertex="1" parent="1">
          <mxGeometry x="-710" y="490" width="160" height="110" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-25" value="&lt;div&gt;&lt;b&gt;Common&lt;/b&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Token Count&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Duration&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Time&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=3;" vertex="1" parent="1">
          <mxGeometry x="-840" y="100" width="130" height="80" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-26" value="&lt;div align=&quot;center&quot;&gt;&lt;b&gt;Moderation Logs&lt;/b&gt;&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Query Ref&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Input Outputs&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;Data Involved&lt;/div&gt;&lt;div align=&quot;left&quot;&gt;User Involved&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=3;align=center;" vertex="1" parent="1">
          <mxGeometry x="-530" y="490" width="160" height="110" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-27" value="SummarizerAgent" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-810" y="-40" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-31" value="ModerationAgent" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-810" y="-100" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-32" value="ToolCallingAgent" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-660" y="-70" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-33" value="ContentGenAgent" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-660" y="-130" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-34" value="PlannerAgent" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-660" y="-190" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-35" value="ChatAgent" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-810" y="-160" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-37" value="apply_leave" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;size=10;" vertex="1" parent="1">
          <mxGeometry x="-490" y="-240" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-38" value="leave_bal" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;size=10;" vertex="1" parent="1">
          <mxGeometry x="-490" y="-190" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-40" value="list_events" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;size=10;" vertex="1" parent="1">
          <mxGeometry x="-490" y="-140" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-41" value="..." style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-480" y="-90" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-42" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-510" y="-250" width="120" height="200" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-43" value="Tools" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-525" y="-280" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="sI5unZWtDdbz9k2Sz7qP-44" target="sI5unZWtDdbz9k2Sz7qP-46">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-44" value="&lt;div style=&quot;line-height: 100%;&quot;&gt;&lt;div align=&quot;left&quot;&gt;&lt;font style=&quot;font-size: 8px;&quot;&gt;&lt;b&gt;&lt;font style=&quot;line-height: 100%;&quot;&gt;Planner Agent:&lt;/font&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;font style=&quot;font-size: 8px;&quot;&gt;The Planner Agent acts as the intelligent orchestrator in our agentic AI system. Its core function is to analyze user input, detect intent, and route tasks to the appropriate specialized agents or tools.&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="-210" y="-175" width="250" height="75" as="geometry" />
        </mxCell>
        <mxCell id="sI5unZWtDdbz9k2Sz7qP-46" value="&lt;font style=&quot;font-size: 9px; line-height: 100%;&quot;&gt;&lt;b&gt;Intent Detection&lt;/b&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; Understands the user&#39;s goal from free-form natural language&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; Categorizes requests (e.g., retrieve info, apply leave, summarize)&lt;br&gt;&lt;b&gt;Agent &amp;amp; Tool Routing&lt;/b&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; Determines which agents/tools are best suited to handle the request&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; Can invoke one or multiple tools in sequence or parallel&lt;br&gt;&lt;b&gt;Multi-Step Planning&lt;/b&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; Breaks down complex queries into smaller steps&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; Executes steps in a logical order (e.g., retrieve → summarize)&lt;br&gt;&lt;b&gt;Context Management&lt;/b&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; Maintains short-term memory of conversation/session&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; Passes necessary metadata between tools (e.g., user/org info)&lt;br&gt;&lt;b&gt;Fallback &amp;amp; Escalation&lt;/b&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; Handles unrecognized or ambiguous inputs gracefully&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; Optionally escalates to human support or prompts for clarification&lt;br&gt;&lt;b&gt;Output Composition&lt;/b&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; Collects and composes results from various tools into a unified response&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; Returns structured output (e.g., JSON) to external systems like your Java app&lt;br&gt;&lt;b&gt;Auditing &amp;amp; Observability&lt;/b&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; Logs all decisions, tools used, input/output, and timing&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; Enables traceability for debugging and monitoring&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="320" y="-400" width="330" height="310" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
